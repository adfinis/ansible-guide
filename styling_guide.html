

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Styling Guide &mdash; Ansible Guide</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/adfinis.css?v=a6683483" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=60dbed4a"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Roles &amp; Collections" href="roles_collections.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Ansible Guide
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="roles_collections.html">Roles &amp; Collections</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Styling Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ansible Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Styling Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/styling_guide.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="styling-guide">
<h1>Styling Guide<a class="headerlink" href="#styling-guide" title="Link to this heading"></a></h1>
<section id="yaml-syntax">
<h2>YAML Syntax<a class="headerlink" href="#yaml-syntax" title="Link to this heading"></a></h2>
<p>There is a basic guide at <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html">ansible docs</a>.</p>
<ul class="simple">
<li><p>We use an indention of 2 spaces, no tabs.</p></li>
<li><p>We preferrably only use <cite>true</cite> and <cite>false</cite> for booleans.</p></li>
</ul>
<section id="tasks">
<h3>Tasks<a class="headerlink" href="#tasks" title="Link to this heading"></a></h3>
<div class="highlight-Yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Task 1</span>
<span class="w">  </span><span class="nt">example.collection.module</span><span class="p">:</span>
<span class="w">    </span><span class="nt">arg1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Foo</span>
<span class="w">    </span><span class="nt">arg2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bar</span>
<span class="w">    </span><span class="nt">arg3</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item</span><span class="nv"> </span><span class="s">}}&quot;</span>
<span class="w">  </span><span class="nt">loop</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">role_data</span><span class="nv"> </span><span class="s">}}&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Each file starts with <code class="docutils literal notranslate"><span class="pre">---</span></code> and a empty line after that.</p></li>
<li><p>Each task has a empty line above the task.</p></li>
<li><p>Tasks have a name which contains only letters, numbers
and spaces.  Task names start with an uppercase letter.</p></li>
<li><p>Tasks from an included task file should be named with a prefix, consisting
of its file name. For example the task <cite>Deploy config</cite>
in <code class="docutils literal notranslate"><span class="pre">tasks/deploy.yml</span></code> should be named <code class="docutils literal notranslate"><span class="pre">deploy</span> <span class="pre">|</span> <span class="pre">Deploy</span> <span class="pre">config</span></code>
rather than just <code class="docutils literal notranslate"><span class="pre">Deploy</span> <span class="pre">config</span></code>.</p></li>
<li><p>Module names are written as FQCN wherever possible.</p></li>
<li><p>Each argument of a module is on its own line.</p></li>
<li><p>Key and value are separated by colon and space.</p></li>
<li><p>Values don’t need to be quoted if they are single words.</p></li>
<li><p>Variables are always quoted and have a leading and a trailing space around the name.</p></li>
<li><p>Double quotes are preferred over single quotes for quoting strings,
as they allow escape sequences such as <code class="docutils literal notranslate"><span class="pre">\\</span></code>, <code class="docutils literal notranslate"><span class="pre">\n</span></code>.  Single
quotes can be used to make nested quoting more readable.</p></li>
</ul>
</section>
<section id="handler-tasks">
<h3>Handler Tasks<a class="headerlink" href="#handler-tasks" title="Link to this heading"></a></h3>
<div class="highlight-Yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Role handler task 1</span>
<span class="w">  </span><span class="nt">example.collection.module</span><span class="p">:</span>
<span class="w">    </span><span class="nt">arg1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Foo</span>
<span class="w">    </span><span class="nt">arg2</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">role_service</span><span class="nv"> </span><span class="s">}}&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Handlers follow the same rules as tasks.</p></li>
<li><p>Each handler name must start with the role name.</p></li>
</ul>
</section>
<section id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Link to this heading"></a></h3>
<div class="highlight-Yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>

<span class="c1"># role_var1 description</span>
<span class="nt">role_var1</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Foo</span><span class="nv"> </span><span class="s">Bar&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Variable names contains only lower case letters, numbers and underscores.</p></li>
<li><p>Each name starts with a role-name and an underline.</p></li>
<li><p>Use the collection name rather than the role name as prefix for variables that are shared between roles in a collection.
* Even though Ansible doesn’t really support the “sharing” of variables between roles in a collection, closely related roles may need to use the same set of variables.
* Shared defaults must be kept in sync between roles. As there are no collection-wide defaults, the defaults must be maintained in each role separately. They should be maintained in a separate file, e.g. <code class="docutils literal notranslate"><span class="pre">defaults/main/shared.yml</span></code>.
* Only share variable names between roles in the same collection. If there are other roles that need to use the same set of shared variables, consider if they might belong to the same collection.</p></li>
<li><p>Values are quoted if they contain variables or spaces.</p></li>
<li><p>Double quotes are preferred over single quotes for quoting strings,
as they allow escape sequences such as <code class="docutils literal notranslate"><span class="pre">\\</span></code>, <code class="docutils literal notranslate"><span class="pre">\n</span></code>.  Single
quotes can be used to make nested quoting more readable.</p></li>
<li><p>Each variable has a description above.</p></li>
</ul>
</section>
<section id="registered-variables">
<h3>Registered variables<a class="headerlink" href="#registered-variables" title="Link to this heading"></a></h3>
<div class="highlight-Yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Task 1</span>
<span class="w">  </span><span class="nt">example.collection.module</span><span class="p">:</span>
<span class="w">    </span><span class="nt">arg1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Foo</span>
<span class="w">    </span><span class="nt">arg2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bar</span>
<span class="w">  </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">role_register_baz</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Registered variables contains only lower letters, numbers and underlines</p></li>
<li><p>The name starts with the role-name and <code class="docutils literal notranslate"><span class="pre">_register_</span></code> concatenated (except
special cases, where the registered variable should overwrite default
variables).</p></li>
</ul>
</section>
</section>
<section id="linting">
<h2>Linting<a class="headerlink" href="#linting" title="Link to this heading"></a></h2>
<p>The tool <a class="reference external" href="https://github.com/ansible/ansible-lint/">ansible-lint</a>
can be used to check your playbooks, collections and roles for
compliance.  We recommend running it in a CI pipeline for all Ansible
artifacts.</p>
</section>
<section id="vim-config">
<h2>vim Config<a class="headerlink" href="#vim-config" title="Link to this heading"></a></h2>
<p>For syntax highlighting there is a vim plugin on GitHub
<a class="reference external" href="https://github.com/pearofducks/ansible-vim">pearofducks/ansible-vim</a>.
This plugin will also make a better indention feeling in vim with yaml.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="roles_collections.html" class="btn btn-neutral float-left" title="Roles &amp; Collections" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Adfinis AG.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>